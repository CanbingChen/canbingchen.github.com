<!Doctype>
<html>
<head>
    <title>test-33</title>
    <link href="css/style.css" rel="stylesheet"/>
</head>
<body>
<div id="box">
<table border="0" cellspacing="0" cellpadding="0">
    <tr><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td></tr>
    <tr><td>1</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>2</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>3</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>4</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>5</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>6</td><td></td><td></td><td></td><td></td><td></td><td
            class="bottom"><div></div></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>7</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>8</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>9</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    <tr><td>10</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
    </table>
    <input id="input" type="text"/>
    <button id="button">执行</button>
    </div>
<script type="text/javascript">
    function hasclass(arr){
        for(var i= 0,j=arr.length;i<j;i++)
        {
            if(arr[i].className!="")
            {
                return {node:arr[i],index:i};
            }
        }
    }
    function GOfn(){
        switch (cb.node.className){
            case 'left':
                    if(cb.node.parentNode.firstChild.nextSibling!=cb.node)
                    {
                        cb.node.className='';
                        cb.node.innerHTML='';
                        cb.node=arr[cb.index-1];
                        cb.index=cb.index-1;
                        cb.node.className='left';
                        cb.node.innerHTML='<div></div>';
                    }

                break;
            case 'right':
                if(cb.node.parentNode.lastChild!=cb.node)
                {
                    cb.node.className='';
                    cb.node.innerHTML='';
                    cb.node=arr[cb.index+1];
                    cb.index=cb.index+1;
                    cb.node.className='right';
                    cb.node.innerHTML='<div></div>';
                }

                break;
            case 'top':
                    if(cb.index>22)
                    {
                        cb.node.className='';
                        cb.node.innerHTML='';
                        cb.node=arr[cb.index-11];
                        cb.index=cb.index-11;
                        cb.node.className='top';
                        cb.node.innerHTML='<div></div>';
                    }
                break;
            case 'bottom':
                    if(cb.index<110)
                    {
                        cb.node.className='';
                        cb.node.innerHTML='';
                        cb.node=arr[cb.index+11];
                        cb.index=cb.index+11;
                        cb.node.className='bottom';
                        cb.node.innerHTML='<div></div>';
                    }
                break;
        }
    }
    var arr=document.getElementsByTagName("td");
    var cb=hasclass(arr);
    var direction=['top','left','bottom','right'];
    var ccb=document.getElementsByClassName('bottom');
    button.addEventListener("click",function(){
    switch (input.value){
        case 'GO':
                GOfn();
            break;
        case 'TUN LEF':
            cb.node.className=direction[(direction.indexOf(cb.node.className)+1)%4];
            break;
        case 'TUN RIG':
            cb.node.className=direction[(direction.indexOf(cb.node.className)+3)%4];
            break;
        case 'TUN BAC':
            cb.node.className=direction[(direction.indexOf(cb.node.className)+2)%4];
            break;
        default :
            alert("�������");
            break;

    }
},false);
</script>
</body>
</html>